# 贷后催收培训小助手项目改造文档

## 项目概述

本文档详细记录了将原答题助手项目改造为贷后催收培训小助手项目的所有修改内容。改造涉及后端AI prompt设置和前端界面文案的全面调整。

## 修改文件清单

### 后端文件修改

#### 1. SeekController.java
**文件路径：** `dpsk_quiz_sys_java/src/main/java/com/dpsk/dpsk_quiz_sys_java/controller/SeekController.java`

**修改位置：** 第110-112行

**原代码：**
```java
Map<String, String> systemMessage = new HashMap<>();
systemMessage.put("role", "system");
systemMessage.put("content", "你是一个经验丰富的小学学习辅导 AI 助手，擅长用通俗易懂的语言辅导小学生，耐心、亲切、鼓励式的语气风格。");
messages.add(0, systemMessage);
```

**修改后代码：**
```java
Map<String, String> systemMessage = new HashMap<>();
systemMessage.put("role", "system");
systemMessage.put("content", "你是一位专业的贷后催收培训小助手。你具备以下技能和职责：\n\n" +
        "【角色定位】\n" +
        "- 贷后催收业务专家和培训导师\n" +
        "- 具备丰富的金融风控和催收实战经验\n" +
        "- 擅长案例分析和情景模拟训练\n\n" +
        "【核心技能】\n" +
        "1. 催收话术指导：提供专业的催收沟通技巧和话术模板\n" +
        "2. 法律法规解读：解答催收相关的法律边界和合规要求\n" +
        "3. 心理分析：分析不同类型客户的心理特征和应对策略\n" +
        "4. 风险评估：指导如何评估客户还款能力和风险等级\n" +
        "5. 案例教学：通过真实案例进行情景化培训\n\n" +
        "【主要职责】\n" +
        "- 为催收人员提供专业培训和指导\n" +
        "- 解答催收过程中遇到的疑难问题\n" +
        "- 分享催收行业最佳实践和经验\n" +
        "- 强调合规催收的重要性\n" +
        "- 提供情绪管理和压力缓解建议\n\n" +
        "【沟通风格】\n" +
        "- 专业严谨但不失亲和力\n" +
        "- 善于用案例和故事进行教学\n" +
        "- 注重实用性和可操作性\n" +
        "- 始终强调合法合规的重要性\n\n" +
        "请用专业、耐心、鼓励的语气与用户交流，帮助他们提升催收技能和职业素养。");
messages.add(0, systemMessage);
```

#### 2. AnswerController.java
**文件路径：** `dpsk_quiz_sys_java/src/main/java/com/dpsk/dpsk_quiz_sys_java/controller/AnswerController.java`

**修改位置：** 第130-133行

**原代码：**
```java
// 系统提示
Map<String, String> systemMessage = new HashMap<>();
systemMessage.put("role", "system");
systemMessage.put("content", "你是一个专业的文本解析助手，能够清晰理解用户提供的文本内容并给出准确的回答。");
messages.add(systemMessage);
```

**修改后代码：**
```java
// 系统提示
Map<String, String> systemMessage = new HashMap<>();
systemMessage.put("role", "system");
systemMessage.put("content", "你是一位专业的贷后催收培训助手，擅长分析和解读催收相关的文档、案例和问题。你能够：\n" +
        "1. 解析催收相关的文档内容，如催收函、还款协议、法律文书等\n" +
        "2. 分析催收案例，提供专业的处理建议和话术指导\n" +
        "3. 解答催收过程中的法律法规问题\n" +
        "4. 识别文档中的关键信息，如逾期金额、还款期限、客户信息等\n" +
        "5. 提供合规的催收建议和风险提示\n\n" +
        "请用专业、准确的语言分析用户提供的内容，并给出实用的催收指导建议。");
messages.add(systemMessage);
```

#### 3. AIService.java
**文件路径：** `dpsk_quiz_sys_java/src/main/java/com/dpsk/dpsk_quiz_sys_java/service/AIService.java`

**修改位置：** 第144-149行

**原代码：**
```java
@Override
public String buildSystemPrompt(String questionType, String difficulty) {
    StringBuilder prompt = new StringBuilder();
    prompt.append("你是一个专业的题目生成助手。请根据给定的内容生成高质量的考试题目。\n");
    prompt.append("要求：\n");
    prompt.append("1. 题目内容要准确、清晰\n");
    prompt.append("2. 难度等级：").append(difficulty).append("\n");
    prompt.append("3. 返回JSON格式，包含以下字段：\n");
```

**修改后代码：**
```java
@Override
public String buildSystemPrompt(String questionType, String difficulty) {
    StringBuilder prompt = new StringBuilder();
    prompt.append("你是一位专业的贷后催收培训题目生成专家。请根据给定的催收相关内容生成高质量的培训考试题目。\n");
    prompt.append("要求：\n");
    prompt.append("1. 题目内容要贴合催收业务实际场景，具有实用性\n");
    prompt.append("2. 题目应涵盖催收话术、法律法规、风险控制、客户心理等方面\n");
    prompt.append("3. 难度等级：").append(difficulty).append("\n");
    prompt.append("4. 返回JSON格式，包含以下字段：\n");
```

#### 4. QuestionGeneratorController.java
**文件路径：** `dpsk_quiz_sys_java/src/main/java/com/dpsk/dpsk_quiz_sys_java/controller/QuestionGeneratorController.java`

**修改位置：** 第341-343行

**原代码：**
```java
private String buildSystemPrompt(String questionType, String difficulty) {
    StringBuilder prompt = new StringBuilder();
    prompt.append("你是一个专业的题目生成助手，能够根据给定的文本内容生成高质量的题目。");
```

**修改后代码：**
```java
private String buildSystemPrompt(String questionType, String difficulty) {
    StringBuilder prompt = new StringBuilder();
    prompt.append("你是一位专业的贷后催收培训题目生成专家，能够根据给定的催收相关文本内容生成高质量的培训题目。题目应贴合催收业务实际场景，涵盖催收话术、法律法规、风险控制、客户心理分析等方面。");
```

### 前端文件修改

#### 1. Home.vue
**文件路径：** `dpsk_quiz_sys_vue/src/components/Home.vue`

**修改内容：**

##### 主标题和副标题（第40-47行）
**原代码：**
```vue
<h1 class="hero-title">
    智能学习
    <span class="hero-highlight">重新定义</span>
</h1>
<p class="hero-subtitle">
    革命性的AI学习助手，让每一个问题都有最优解答
</p>
```

**修改后代码：**
```vue
<h1 class="hero-title">
    贷后催收培训
    <span class="hero-highlight">智能助手</span>
</h1>
<p class="hero-subtitle">
    专业的AI催收培训平台，提升催收技能，规范催收流程
</p>
```

##### 功能区域标题（第91-94行）
**原代码：**
```vue
<div class="section-header">
    <h2 class="section-title">强大功能</h2>
    <p class="section-subtitle">为每种学习场景量身定制</p>
</div>
```

**修改后代码：**
```vue
<div class="section-header">
    <h2 class="section-title">核心功能</h2>
    <p class="section-subtitle">为催收培训场景专业定制</p>
</div>
```

##### 功能卡片描述修改

**题目生成卡片（第101-105行）：**
```vue
<!-- 原代码 -->
<h3 class="card-title">题目生成</h3>
<p class="card-description">
    上传文件智能出题，任选题型与难度，自动判卷与分析
</p>

<!-- 修改状态：⚠️ 部分修改 -->
<h3 class="card-title">题目生成</h3>  <!-- 标题未修改 -->
<p class="card-description">
    上传催收案例智能出题，涵盖话术、法规、心理分析等培训内容  <!-- 描述已修改 -->
</p>
```

**文档识别卡片（第116-120行）：**
```vue
<!-- 原代码 -->
<h3 class="card-title">拍照解答</h3>
<p class="card-description">
    拍照即可获取答案，支持各学科题目智能识别
</p>

<!-- 修改后 -->
<h3 class="card-title">文档识别</h3>
<p class="card-description">
    拍照识别催收文档，智能解析合同、协议等关键信息
</p>
```

**催收咨询卡片（第128-132行）：**
```vue
<!-- 原代码 -->
<h3 class="card-title">智能问答</h3>
<p class="card-description">
    AI助手实时解答，让疑惑瞬间消散
</p>

<!-- 修改后 -->
<h3 class="card-title">催收咨询</h3>
<p class="card-description">
    专业催收顾问实时解答，提供话术指导和合规建议
</p>
```

**技能测试卡片（第140-142行）：**
```vue
<!-- 原代码 -->
<h3 class="card-title">在线答题</h3>
<p class="card-description">检验学习成果</p>

<!-- 修改后 -->
<h3 class="card-title">技能测试</h3>
<p class="card-description">检验催收培训成果</p>
```

##### 搜索框占位符（第52行）
**原代码：**
```vue
placeholder="输入你的问题..."
```

**修改状态：** ❌ **未修改**（保持原样）
**实际代码：**
```vue
placeholder="输入你的问题..."
```

##### 按钮文案（第74-81行）
**原代码：**
```vue
<button class="primary-button">
    <el-icon><Upload /></el-icon>
    上传文件
</button>
<button class="secondary-button" @click="handleTakePhoto">
    <el-icon><Camera /></el-icon>
    拍照提问
</button>
```

**修改状态：** ⚠️ **部分修改**
**实际代码：**
```vue
<button class="primary-button">
    <el-icon><Upload /></el-icon>
    上传文件  <!-- 未修改，保持原样 -->
</button>
<button class="secondary-button" @click="handleTakePhoto">
    <el-icon><Camera /></el-icon>
    拍照识别  <!-- 已修改 -->
</button>
```

##### 用户称呼（第185行）
**原代码：**
```javascript
const username = ref('同学')
```

**修改状态：** ❌ **未修改**（保持原样）
**实际代码：**
```javascript
const username = ref('同学')
```

##### 活动记录示例数据（第198-210行）
**原代码：**
```javascript
const activities = ref([
    {
        content: '数学题：解答二元一次方程组',
        timestamp: '2024-03-20 19:20'
    },
    {
        content: '物理题：自由落体运动计算',
        timestamp: '2024-03-20 18:30'
    },
    {
        content: '英语作文：My Favorite Book',
        timestamp: '2024-03-20 16:45'
    }
])
```

**修改后代码：**
```javascript
const activities = ref([
    {
        content: '催收话术培训：电话沟通技巧练习',
        timestamp: '2024-03-20 19:20'
    },
    {
        content: '法律法规学习：《民法典》相关条款解读',
        timestamp: '2024-03-20 18:30'
    },
    {
        content: '案例分析：逾期客户心理分析与应对策略',
        timestamp: '2024-03-20 16:45'
    }
])
```

#### 2. AiChat.vue
**文件路径：** `dpsk_quiz_sys_vue/src/components/AiChat.vue`

**修改内容：**

##### 初始欢迎消息（第412-416行和第446-450行）
**原代码：**
```javascript
chats.value.push({
  role: 'assistant',
  id: 'temporary-id',
  createAt: Date.now(),
  content: '你好，需要什么帮助吗',
});
```

**修改后代码：**
```javascript
chats.value.push({
  role: 'assistant',
  id: 'temporary-id',
  createAt: Date.now(),
  content: '你好！我是你的贷后催收培训小助手。我可以帮你解答催收相关的问题，提供话术指导，分析案例，或者进行催收技能培训。有什么我可以帮助你的吗？',
});
```

##### 空状态提示（第159行）
**原代码：**
```vue
<div style="margin-bottom: 20px; font-size: 17px; font-weight: 500;">✨ HELLO!有什么我能帮你的吗？😊</div>
```

**修改后代码：**
```vue
<div style="margin-bottom: 20px; font-size: 17px; font-weight: 500;">💼 欢迎使用贷后催收培训助手！我可以帮您提升催收技能 📈</div>
```

## 修改状态总结

### ✅ 成功修改的文件

#### 后端文件（4个文件全部成功）
- **SeekController.java** ✅ AI角色完全改为贷后催收培训小助手
- **AnswerController.java** ✅ 文档解析功能调整为催收文档专业分析
- **AIService.java** ✅ 题目生成功能重构为催收业务场景
- **QuestionGeneratorController.java** ✅ 题目生成专家角色调整

#### 前端文件（部分成功）
- **Home.vue** ⚠️ 部分修改成功
  - ✅ 主标题和副标题已修改
  - ✅ 功能区域标题已修改
  - ✅ 功能卡片描述已修改（除标题外）
  - ✅ 活动记录示例数据已修改
  - ❌ 搜索框占位符未修改
  - ❌ 上传按钮文案未修改
  - ❌ 用户称呼未修改
- **AiChat.vue** ✅ 对话界面欢迎语和提示信息完全调整

### ❌ 被拒绝的修改项目

1. **搜索框占位符**
   - 文件：Home.vue
   - 原计划："输入你的问题..." → "输入催收相关问题..."
   - 状态：保持原样

2. **上传按钮文案**
   - 文件：Home.vue
   - 原计划："上传文件" → "上传催收文档"
   - 状态：保持原样

3. **用户称呼**
   - 文件：Home.vue
   - 原计划："同学" → "催收专员"
   - 状态：保持原样

4. **题目生成卡片标题**
   - 文件：Home.vue
   - 原计划："题目生成" → "培训题目生成"
   - 状态：保持原样

## 改造效果总结

### 角色转换
- **原角色：** 小学学习辅导AI助手
- **新角色：** 贷后催收培训小助手

### 功能重新定位
1. **智能对话：** 从学习辅导转为催收咨询和培训指导
2. **文档处理：** 从通用文本解析转为催收文档专业分析
3. **题目生成：** 从通用考试题目转为催收培训专业题目
4. **界面文案：** 大部分调整为催收培训相关术语和场景

### 专业技能覆盖
- 催收话术指导
- 法律法规解读
- 客户心理分析
- 风险评估指导
- 案例教学培训
- 合规催收建议

### 部署信息
- **前端地址：** http://localhost:5173
- **后端地址：** http://localhost:8080
- **状态：** 已完成改造并正常运行

## 注意事项

1. ✅ 所有后端AI prompt修改已生效，重启服务后即可使用新的催收培训功能
2. ⚠️ 前端界面文案部分调整，核心功能已贴合催收培训场景，但仍有部分通用文案保持原样
3. 建议在实际使用前进行充分测试，确保各项功能正常工作
4. 可根据实际业务需求进一步调整prompt内容和界面文案
5. 如需完全统一界面风格，可考虑手动修改被拒绝的文案项目

## 后续优化建议

1. **完善前端文案统一性**
   - 手动修改搜索框占位符为催收相关提示
   - 调整上传按钮文案为"上传催收文档"
   - 修改用户称呼为"催收专员"或其他合适称呼
   - 统一功能卡片标题风格

2. **功能增强**
   - 可考虑添加更多催收专业术语和场景
   - 优化AI回复的专业性和准确性
   - 增加催收相关的快捷操作和模板

---

**文档生成时间：** 2024年7月29日  
**文档更新时间：** 2024年7月29日  
**项目状态：** 核心改造完成，部分界面文案待优化